<template>
	
	<!-- 实体商家列表 -->
	<view>
	<view style="display: flex;padding: 10upx;margin: 10upx;border-radius: 10upx;background: #fff;align-items: center;">
		<view style="width:200upx;height:200upx;margin-left: 20upx;">
			<image style="width:200upx;height:200upx;" src="../../static/img/shop/3.jpg"></image>
		</view>
		<view style="width:100%;margin-left: 20upx;">
			<view>
				<view style="font-size: 30upx;color:#333;">食其家(商城路881号店)</view>
				<view style="display: flex; align-items:center;justify-content:space-between;">
					<view style="display: flex;">
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
					</view>
					<view style="margin-right: 30rpx;font-size: 24upx;">
						21公里
					</view>
				</view>
				<view style="font-size: 24upx;color:#666;">城市名称|分类</view>
				<view style="display: flex;flex-wrap:wrap;">
					<view class="youhui-biaoqian">天天是的</view>
					<view class="youhui-biaoqian">天天是的</view>
					<view class="youhui-biaoqian">天天是的</view>
					
				</view>
				
				<view style="display: flex;flex-wrap:wrap;font-size: 24rpx;">
					<view class="youhui">优惠</view>
					<text>tiantian skdjf </text>
				</view>
				
				<view class="a">进入店铺</view>
				<!-- <view style="display: flex;align-items: center;flex-wrap: wrap;">
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					
				</view> -->
			</view>
		</view>
	</view>
	<view style="display: flex;padding: 10upx;margin: 10upx;border-radius: 10upx;background: #fff;align-items: center;">
		<view style="width:200upx;height:200upx;margin-left: 20upx;">
			<image style="width:200upx;height:200upx;" src="../../static/img/shop/3.jpg"></image>
		</view>
		<view style="width:100%;margin-left: 20upx;">
			<view>
				<view style="font-size: 30upx;color:#333;">食其家(商城路881号店)</view>
				<view style="display: flex; align-items:center;justify-content:space-between;">
					<view style="display: flex;">
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
						<image style="width: 40upx;height: 40upx;" src="../../static/img/VIP.png"></image>
					</view>
					<view style="margin-right: 30rpx;font-size: 24upx;">
						21公里
					</view>
				</view>
				<view style="font-size: 24upx;color:#666;">城市名称|分类</view>
				<view style="display: flex;flex-wrap:wrap;">
					<view class="youhui-biaoqian">天天是的</view>
					<view class="youhui-biaoqian">天天是的</view>
					<view class="youhui-biaoqian">天天是的</view>
					
				</view>
				
				<view style="display: flex;flex-wrap:wrap;font-size: 24rpx;">
					<view class="youhui">优惠</view>
					<text>tiantian skdjf </text>
				</view>
				
				<view class="a">进入店铺</view>
				<!-- <view style="display: flex;align-items: center;flex-wrap: wrap;">
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					<view style="padding:4px 10upx;margin:10upx 10upx 0upx 0upx;border-radius:6upx;background: #ff8000 linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));font-size: 24upx;color:#fff;">可排队</view>
					
				</view> -->
			</view>
		</view>
	</view>
	</view>
	<!-- 实体商家结束 -->
</template>

<script>
	export default {
		data() {
			return {
				ak: "",	//填写申请到的ak，从shop_option中获取 baidu_map_ak_wxa这个属性
				markers: [],
				longitude: '', 	//经度
				latitude: '',	//纬度
				address: '',		//地址
				cityInfo: {},		//城市信息
				wxMarkerData:'',
				articlelist:'',
				articlelist2:'',
				wxa_show_toutiao:'',
				wxa_shop_toutiao_flash_line:'',
				addListener:'',
				wxa_show_icon_index_count:'',
				current_cityname:'',
				current_citynameLength:'',
				current_citynameWidth:'',
				wxa_shop_toutiao_icon:'',
				
				
				showHeader:true,
				afterHeaderOpacity: 1,//不透明度
				headerPosition: 'fixed',
				headerTop:null,
				statusTop:null,
				nVueTitle:null,
				productLists:'',
				pictures:'',
				yingxiao_list:'',
				page_num:1,
				page_size:5,
				is_OK:false,
				cb_params:'',
				city: '北京',
				currentSwiper: 0,
				// 轮播图片
				
				index_icon_list:'',
				Promotion: [],
				//猜你喜欢列表
			
				productList:'',
				loadingText: '正在加载...',
				imgheights: [],
				current: 0,
				windowHeight: 0,
				
				//客服相关
				wxa_show_kefu_button:'',
				wxa_kefu_button_type:'',
				wxa_kefu_button_icon:'',
				wxa_kefu_mobile_num:'',
				wxa_kefu_form_url:'',
				wxa_kefu_bg_color:''
			};
		},
		onPageScroll(e) {
			//兼容iOS端下拉时顶部漂移
			this.headerPosition = e.scrollTop>=0?"fixed":"absolute";
			this.headerTop = e.scrollTop>=0?null:0;
			this.statusTop = e.scrollTop>=0?null:-this.statusHeight+'px';
			
			
			
		},
		//下拉刷新，需要自己在page.json文件中配置开启页面下拉刷新 "enablePullDownRefresh": true
		onPullDownRefresh() {
			
		},
		//上拉加载，需要自己在page.json文件中配置"onReachBottomDistance"
		onReachBottom() {
			
		},
		onLoad() {
			
		},
		
		
		
		
		methods: {
			
			callback_func_for_shop_info:function(shop_info){
				var shop_name = shop_info.shop_name;
				
				uni.setNavigationBarTitle({
					title:shop_name
				})
				
			},
			
			
			
			//商户头条
			yingxiao:function(){
				var that = this;
				uni.request({
					url : this.abotapi.globalData.weiduke_server_url + '?g=Home&m=Yanyubao&a=yingxiao',
					method:'POST',
					data: {
						id: 'seller',
						action: 'list',
						sellerid:this.abotapi.globalData.default_sellerid,
						currentpage: 1
					},
					header:{'Content-Type': 'application/x-www-form-urlencoded'},
					success:function(res){
						console.log('res1',res);
						that.abotapi.set_current_weiduke_token(res.data.token);
						if(res.data.code == 1){
								that.articlelist = res.data.data;
							console.log('articlelist',that.articlelist);
						}
						
						
						if (that.wxa_shop_toutiao_flash_line == 2) {
							var data = res.data.data;
							var articlelist2 = [];
							for (var i = 0, length = data.length -1; i < (length / 2); i++) {
								var arr = [data[0], data[1]];
								articlelist2.push(arr);
								data.shift()
								data.shift()
							}
						
							that.articlelist2 =  articlelist2;
							console.log('that.articlelist2',that.articlelist2);
						}
					},
					fail:function(res){
						console.log('res2',res);
					},
				});
				
			},
			
			//首页分类图标
			get_shop_icon_index:function(){
				var that = this;
				uni.request({
					url:this.abotapi.globalData.yanyubao_server_url+'?g=Yanyubao&m=ShopAppWxa&a=get_shop_icon_index',
					method:'POST',
					header:{'Content-Type': 'application/x-www-form-urlencoded'},
					data:{
						sellerid:this.abotapi.globalData.default_sellerid,
					},
					success(res) {
						// console.log('87878787',res);
						var data = res.data;
						console.log("data===",data);
						if(data.code == 1){
							that.index_icon_list = data.data;
						}
					
					}
				});
			},
			
			//商品跳转
			toGoods(e) {
				console.log('rrxfff===',e);
				var productid = e.productid;
				uni.navigateTo({
					url: '/pages/goods/goods?productid='+productid
				});
			},
			
			//轮播图指示器
			swiperChange(event) {
				this.currentSwiper = event.detail.current;
			},
			
			
			imageLoad: function (e) {//获取图片真实宽度  
					
			    var imgwidth = e.detail.width,
			      imgheight = e.detail.height,
			      //宽高比  
			      ratio = imgwidth / imgheight;
			    console.log(imgwidth, imgheight)
			    //计算的高度值  
			    var viewHeight = this.windowHeight / ratio;
			    var imgheight = viewHeight;
			    var imgheights = this.imgheights;
			    //把每一张图片的对应的高度记录到数组里  
			    imgheights[e.target.dataset.id] = uni.upx2px(imgheight);
		
			    console.log(imgheights);
			
		
			     this.imgheights = imgheights
			   
			  },
			
			
			//首页导航图标、轮播图、平面广告跳转
			toAdDetails:function(url){
				var var_list = Object();
				console.log('toAdDetails- to url ====>>>>>>', url);
				this.abotapi.call_h5browser_or_other_goto_url(url, var_list, '');
				
			},
			
		}
	};
</script>

<style>
	.a{
		font-size:15px;
		color:#8eaf60;
		border:1px solid #8eaf60;
		width:30%;
		text-align:center;
		border-radius:13px;
		margin-left:145px;
		float:right;
	}
	.youhui-biaoqian {
		font-size: 24upx;
		margin-bottom: 10upx;
		border: 1px solid #666;
		text-align: center;
		color: #555;
		border-radius: 6rpx;
		padding: 2px 5px;
		margin-right: 10rpx;
	}
	.youhui{
		width: 76rpx;
		background: red linear-gradient(to right, rgba(255,255,255,0), rgba(2555,255,255,.5));
		display: inline-block;
		text-align: center;
		color: #fff;
		border-radius: 6rpx;
		margin-right: 10rpx;

	}
</style>
